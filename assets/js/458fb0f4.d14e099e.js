"use strict";(self.webpackChunkaider_desk_docs=self.webpackChunkaider_desk_docs||[]).push([[352],{6064:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>m,frontMatter:()=>r,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"core-features/custom-commands","title":"Custom Commands","description":"AiderDesk allows you to define and use custom commands to automate repetitive tasks or extend AiderDesk\'s functionality. These commands are defined in Markdown files with YAML front matter and can be executed directly from the prompt field.","source":"@site/docs/core-features/custom-commands.md","sourceDirName":"core-features","slug":"/core-features/custom-commands","permalink":"/docs/core-features/custom-commands","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6,"title":"Custom Commands","sidebar_label":"Custom Commands"},"sidebar":"docsSidebar","previous":{"title":"Commands","permalink":"/docs/core-features/commands-reference"},"next":{"title":"Code Changes","permalink":"/docs/core-features/reviewing-code-changes"}}');var o=t(4848),i=t(8453);const r={sidebar_position:6,title:"Custom Commands",sidebar_label:"Custom Commands"},d="Custom Commands",a={},c=[{value:"Where to Create Custom Commands",id:"where-to-create-custom-commands",level:2},{value:"Custom Command File Format",id:"custom-command-file-format",level:2},{value:"Front Matter Fields:",id:"front-matter-fields",level:3},{value:"Command Template:",id:"command-template",level:3},{value:"How to Use Custom Commands",id:"how-to-use-custom-commands",level:2},{value:"Examples",id:"examples",level:2},{value:"Example 1: Simple Git Status Command",id:"example-1-simple-git-status-command",level:3},{value:"Example 2: Generate a Commit Message",id:"example-2-generate-a-commit-message",level:3},{value:"Example 3: Command without Context",id:"example-3-command-without-context",level:3}];function l(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"custom-commands",children:"Custom Commands"})}),"\n",(0,o.jsx)(n.p,{children:"AiderDesk allows you to define and use custom commands to automate repetitive tasks or extend AiderDesk's functionality. These commands are defined in Markdown files with YAML front matter and can be executed directly from the prompt field."}),"\n",(0,o.jsx)(n.h2,{id:"where-to-create-custom-commands",children:"Where to Create Custom Commands"}),"\n",(0,o.jsxs)(n.p,{children:["Custom command files are Markdown files (",(0,o.jsx)(n.code,{children:".md"}),") that AiderDesk monitors for changes. You can create them in two locations:"]}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Global Commands:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Location: ",(0,o.jsx)(n.code,{children:"~/.aider-desk/commands/"})," (your user home directory)"]}),"\n",(0,o.jsx)(n.li,{children:"Commands placed here are available across all your projects."}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Project-Specific Commands:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Location: ",(0,o.jsx)(n.code,{children:".aider-desk/commands/"})," (within your current project's root directory)"]}),"\n",(0,o.jsx)(n.li,{children:"Commands placed here are only available for that specific project."}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Note:"})," If a command with the same name exists in both global and project-specific directories, the project-specific command will take precedence."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["If the ",(0,o.jsx)(n.code,{children:"commands"})," directory does not exist in either location, AiderDesk will create it automatically when it starts up or when you first try to use custom commands."]}),"\n",(0,o.jsx)(n.h2,{id:"custom-command-file-format",children:"Custom Command File Format"}),"\n",(0,o.jsx)(n.p,{children:"Each custom command is a Markdown file with a YAML front matter block at the top. The front matter defines the command's metadata, and the content below it serves as the command's template."}),"\n",(0,o.jsx)(n.p,{children:"Here's the structure:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-markdown",children:"---\ndescription: A brief description of what the command does.\narguments:\n  - description: Description for the first argument.\n    required: true # or false, defaults to true if omitted\n  - description: Description for the second argument.\n    required: false\n---\nThis is the template for the command.\nYou can use `{{1}}`, `{{2}}`, etc., to refer to the arguments passed to the command.\nFor example, `!git diff {{1}}` will execute `git diff` with the first argument.\nAny line starting with `!` will be treated as a shell command.\n"})}),"\n",(0,o.jsx)(n.h3,{id:"front-matter-fields",children:"Front Matter Fields:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"description"})," (string, ",(0,o.jsx)(n.strong,{children:"required"}),"): A short, clear description of the command's purpose. This description will appear in the autocompletion suggestions."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"arguments"})," (array of objects, optional): An array defining the expected arguments for the command. Each argument object can have:","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"description"})," (string, ",(0,o.jsx)(n.strong,{children:"required"}),"): A description of what the argument represents."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"required"})," (boolean, optional): Set to ",(0,o.jsx)(n.code,{children:"true"})," if the argument is mandatory, ",(0,o.jsx)(n.code,{children:"false"})," otherwise. Defaults to ",(0,o.jsx)(n.code,{children:"true"}),"."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"includeContext"})," (boolean, optional): Determines whether the current conversation context (chat history and context files) should be included when the command is run. Defaults to ",(0,o.jsx)(n.code,{children:"true"}),". If set to ",(0,o.jsx)(n.code,{children:"false"}),", the agent will receive an empty list of messages. This is useful for commands that should operate independently of the current chat session."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"command-template",children:"Command Template:"}),"\n",(0,o.jsx)(n.p,{children:"The content of the Markdown file below the YAML front matter is the command's template. This template will be sent to the AiderDesk agent as a prompt."}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Argument Substitution:"})," Use ",(0,o.jsx)(n.code,{children:"{{1}}"}),", ",(0,o.jsx)(n.code,{children:"{{2}}"}),", ",(0,o.jsx)(n.code,{children:"{{3}}"}),", and so on, to insert the values of the arguments passed to the command. ",(0,o.jsx)(n.code,{children:"{{1}}"})," corresponds to the first argument, ",(0,o.jsx)(n.code,{children:"{{2}}"})," to the second, and so forth."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Shell Commands:"})," Any line in the template that starts with an exclamation mark (",(0,o.jsx)(n.code,{children:"!"}),") will be interpreted as a shell command. These commands are executed ",(0,o.jsx)(n.em,{children:"before"})," the final prompt is sent to the LLM, and their ",(0,o.jsx)(n.code,{children:"stdout"})," replaces the command line in the assembled prompt. For example, ",(0,o.jsx)(n.code,{children:"!git diff"})," or ",(0,o.jsx)(n.code,{children:"!ls -la {{1}}"}),"."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"how-to-use-custom-commands",children:"How to Use Custom Commands"}),"\n",(0,o.jsx)(n.p,{children:"Custom commands can be executed directly from the prompt field in AiderDesk."}),"\n",(0,o.jsxs)(n.ol,{start:"2",children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Typing the Command:"})," Start typing ",(0,o.jsx)(n.code,{children:"/"})," followed by the command's name (e.g., ",(0,o.jsx)(n.code,{children:"/mycommand"}),")."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Autocompletion:"})," As you type, AiderDesk's prompt field will provide autocompletion suggestions for your custom commands, along with their descriptions."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Passing Arguments:"})," If your command expects arguments, provide them after the command name, separated by spaces. For example:","\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'/mycommand arg1 "argument with spaces" arg3\n'})}),"\n",(0,o.jsx)(n.strong,{children:"Note:"})," Currently, arguments with spaces must be enclosed in double quotes."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Execution:"})," Press Enter to execute the command. AiderDesk will substitute the arguments into your command's template, execute any embedded shell commands, and then send the fully assembled prompt to the appropriate handler (Aider or Agent) based on the active mode.","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Note on Mode Selection:"})," The effectiveness of a custom command depends on the active mode.","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Use ",(0,o.jsx)(n.strong,{children:"Code"})," mode for commands intended to modify files within the current context."]}),"\n",(0,o.jsxs)(n.li,{children:["Use ",(0,o.jsx)(n.strong,{children:"Ask"})," mode for general queries or information retrieval that do not involve file modifications."]}),"\n",(0,o.jsxs)(n.li,{children:["For commands designed to leverage advanced reasoning and tool use, ensure you are in ",(0,o.jsx)(n.strong,{children:"Agent"})," mode."]}),"\n",(0,o.jsxs)(n.li,{children:["Other modes like ",(0,o.jsx)(n.strong,{children:"Architect"})," or ",(0,o.jsx)(n.strong,{children:"Context"})," should be chosen based on their specific functionalities and the command's purpose."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,o.jsx)(n.h3,{id:"example-1-simple-git-status-command",children:"Example 1: Simple Git Status Command"}),"\n",(0,o.jsxs)(n.p,{children:["Create a file named ",(0,o.jsx)(n.code,{children:"~/.aider-desk/commands/git-status.md"})," (or ",(0,o.jsx)(n.code,{children:".aider-desk/commands/git-status.md"}),"):"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-markdown",children:"---\ndescription: Shows the current git status of the repository.\n---\n!git status\n"})}),"\n",(0,o.jsxs)(n.p,{children:["To use it, type ",(0,o.jsx)(n.code,{children:"/git-status"})," in the prompt field and press Enter."]}),"\n",(0,o.jsx)(n.h3,{id:"example-2-generate-a-commit-message",children:"Example 2: Generate a Commit Message"}),"\n",(0,o.jsxs)(n.p,{children:["This command is similar to the built-in ",(0,o.jsx)(n.code,{children:"commit-message"})," but demonstrates argument usage."]}),"\n",(0,o.jsxs)(n.p,{children:["Create a file named ",(0,o.jsx)(n.code,{children:"~/.aider-desk/commands/generate-commit.md"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-markdown",children:"---\ndescription: Generates a conventional commit message for the given git diff.\narguments:\n  - description: The git diff arguments (e.g., HEAD~1, a file path, or a commit range).\n    required: false\n---\nPlease generate a conventional commit message based on the following git diff. The commit message should adhere to the Conventional Commits specification.\n\nThe message should be a single line, starting with a type (e.g., `feat`, `fix`, `docs`, `style`, `refactor`, `test`, `chore`, `perf`, `ci`, `build`), followed by an optional scope, a colon and a space, and then a short, imperative description of the change.\n\n!git diff {{1}}\n\nProvide the commit message in the following format:\n\n"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)("type",{}),"[optional scope]: ",(0,o.jsx)("description",{})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"\nOnly answer with the commit message, nothing else.\n"})}),"\n",(0,o.jsx)(n.p,{children:"To use it, you could type:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"/generate-commit"})," (for the entire staged diff)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"/generate-commit HEAD~1"})," (for the diff from the previous commit)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"/generate-commit src/main/project.ts"})," (for changes in a specific file)"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"example-3-command-without-context",children:"Example 3: Command without Context"}),"\n",(0,o.jsx)(n.p,{children:"This command will list files in the root of the project, without including the current chat history or context files."}),"\n",(0,o.jsxs)(n.p,{children:["Create a file named ",(0,o.jsx)(n.code,{children:"~/.aider-desk/commands/list-root.md"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-markdown",children:"---\ndescription: Lists files in the project root directory, ignoring current context.\nincludeContext: false\n---\n!ls -la ./\n"})}),"\n",(0,o.jsxs)(n.p,{children:["To use it, type ",(0,o.jsx)(n.code,{children:"/list-root"})," in the prompt field and press Enter. The agent will only receive the ",(0,o.jsx)(n.code,{children:"!ls -la ./"})," instruction and no prior conversation."]})]})}function m(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>d});var s=t(6540);const o={},i=s.createContext(o);function r(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);